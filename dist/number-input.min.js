angular.module("cba.number",[]).directive("input",["numberFilter","$timeout",function(n,e){function r(e){return function(r){return n(r,e)}}function u(n){var e;return"string"!=typeof n&&"number"!=typeof n?null:(e=Math.round("number"==typeof n?n:parseFloat((n||"").replace(",",""))),isFinite(e)?e:null)}function t(n,e,r,u){return n.$setValidity(e,r),u}function i(n,e){return function(r){return t(n,"min",r>=e,r)}}function o(n,e){return function(r){return t(n,"max",e>=r,r)}}return{restrict:"E",require:["?ngModel"],link:function(n,t,a,l){var s,c=0,f=r(c);l&&"number"in a&&(s=l[0],s.$parsers.push(u),s.$formatters.push(f),a.min&&s.$parsers.push(i(s,parseFloat(a.min))),a.max&&s.$parsers.push(o(s,parseFloat(a.max))),t.on("focus",function(){return s.$viewValue=u(s.$modelValue),s.$render(),e(function(){t.select()},0)}).on("blur",function(){return s.$viewValue=f(s.$modelValue),s.$modelValue=u(s.$modelValue),s.$render()}))}}}]);