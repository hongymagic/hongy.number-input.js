!function(n,r,e){"use strict";function u(n,r){return n.apply(null,r)}function t(n){return[].slice.call(n)}function i(n){return t(n).reverse()}function o(n){return n}function c(n){return function(r,e){if(r.curried)return r;e=e||r.length;var c=function a(){var c=t(arguments);if(c.length>=e){var f=n?i:o;return u(r,f(c))}var s=function(){return u(a,c.concat(t(arguments)))};return s.curried=!0,s};return c.curried=!0,c}}var a=n.angular,f=c(!1),s=(c(!0),/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/),l=f(function(n,r,u,t){return n.$setValidity(r,u),u?t:e}),$=f(function(n,r,e){var u=a.isFunction(r)?r(e):e;return l(n,"number",n.$isEmpty(e)||s.test(u),e)}),m=f(function(n,r,e){return r=a.isFunction(r)?r():r,a.isNumber(r)?l(n,"min",n.$isEmpty(e)||e>=r,e):n.$viewValue}),v=f(function(n,r,e){return r=a.isFunction(r)?r():r,a.isNumber(r)?l(n,"max",n.$isEmpty(e)||r>=e,e):n.$viewValue});a.module("hongy",[]).directive("input",["numberFilter","$timeout",function(n,r){var u=".hongy.number",t=["focus"+u].join(" "),i=["blur"+u].join(" "),o="$destroy",c=f(function(r,e,u){return n(u||r.$viewValue,e())||r.$viewValue}),s=f(function(r,u){if(!a.isString(u)&&!a.isNumber(u))return e;a.isString(u)&&(u=u.replace(/[,]/g,""));var t=parseFloat(n(u,r()).replace(/[,]/g,""));return isFinite(t)?t:e}),l=f(function(n,r,e){return a.isFunction(r)&&n.$setViewValue(r(n.$modelValue)),a.isFunction(e)&&(n.$modelValue=e(n.$modelValue)),n.$render()});return{restrict:"E",require:["?ngModel"],link:function(n,u,f,d){if(d&&"number"in f){var p=d[0],V=function(){return n.$eval(f.precision)||0},g=c(p,V),w=s(V),h=[m(p,function(){return n.$eval(f.min)}),v(p,function(){return n.$eval(f.max)})];p.$parsers.push($(p,w)),p.$parsers.push(w),a.forEach(h,function(n){p.$parsers.push(n)}),n.$watch(f.max,function(n){v(p,n,w(p.$viewValue))}),n.$watch(f.min,function(n){m(p,n,w(p.$viewValue))}),p.$formatters.push(g),u.off(t).on(t,l(p,function(n){return w(n)||p.$viewValue},e)).on(t,function(){r(function(){u.select()})}).off(i).on(i,l(p,g,w)).off(o).on(o,function(){u.off(t).off(i)})}}}}])}(window,document);