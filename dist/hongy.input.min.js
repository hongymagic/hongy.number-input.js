!function(n,r,t){"use strict";function e(n,r){return n.apply(null,r)}function u(n){return[].slice.call(n)}function i(n){return u(n).reverse()}function o(n){return n}function c(n){return function(r,t){if(r.curried)return r;t=t||r.length;var c=function a(){var c=u(arguments);if(c.length>=t){var f=n?i:o;return e(r,f(c))}var l=function(){return e(a,c.concat(u(arguments)))};return l.curried=!0,l};return c.curried=!0,c}}var a=n.angular,f=c(!1),l=(c(!0),/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/),s=f(function(n,r){return n.$isEmpty(r)||l.test(r)}),$=f(function(n,r,t){return r=a.isFunction(r)?r():r,n.$isEmpty(t)||t>=r}),m=f(function(n,r,t){return r=a.isFunction(r)?r():r,n.$isEmpty(t)||r>=t});a.module("hongy",[]).directive("input",["numberFilter","$timeout",function(n,r){var e=".hongy.number",u=["focus"+e].join(" "),i=["blur"+e].join(" "),o="$destroy",c=f(function(r,t,e){return n(e||r.$viewValue,t())||r.$viewValue}),l=f(function(r,e){if(!a.isString(e)&&!a.isNumber(e))return t;a.isString(e)&&(e=e.replace(/[,]/g,""));var u=parseFloat(n(e,r()).replace(/[,]/g,""));return isFinite(u)?u:t}),d=f(function(n,r,t){return a.isFunction(r)&&(n.$viewValue=r(n.$modelValue)),a.isFunction(t)&&(n.$modelValue=t(n.$modelValue)),n.$render()});return{restrict:"E",require:["?ngModel"],link:function(n,e,a,f){if(f&&"number"in a){var v=f[0],p=function(){return n.$eval(a.precision)||0},g=c(v,p),h=l(p);v.$validators.number=s(v),v.$validators.min=$(v,function(){return n.$eval(a.min)}),v.$validators.max=m(v,function(){return n.$eval(a.max)}),v.$parsers.push(h),n.$watch(a.max,function(){v.$validate()}),n.$watch(a.min,function(){v.$validate()}),v.$formatters.push(g),e.off(u).on(u,d(v,h,t)).on(u,function(){return r(function(){e.select()},10)}).off(i).on(i,d(v,g,h)).off(o).on(o,function(){e.off(u).off(i)})}}}}])}(window,document);